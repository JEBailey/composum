(function(a){a.console=a.console||{};(function(b){b.getApprovalDialog=function(){return a.getView("#approval-dialog",b.ApprovalDialog)};b.getPurgeAuditDialog=function(){return a.getView("#purge-audit-dialog",b.PurgeAuditDialog)};b.ApprovalDialog=a.components.Dialog.extend({initialize:function(c){a.components.Dialog.prototype.initialize.apply(this,[c]);this.$form=this.$("form");this.$title=this.$(".modal-header .modal-title");this.$content=this.$(".modal-body .content");this.$form.on("submit",_.bind(function(a){a.preventDefault();
this.hide();return!1},this))},initDialog:function(a,b){this.$title.text(a);this.$content.html(b)}});b.PurgeAuditDialog=a.components.Dialog.extend({initialize:function(b){a.components.Dialog.prototype.initialize.apply(this,[b]);this.form=a.getWidget(this.el,"form.widget-form",a.components.FormWidget);this.$topic=this.$('input[name="event.job.topic"]');this.$reference=this.$('input[name="reference"]');this.$keep=this.$('input[name="keep"]');this.form.$el.on("submit",_.bind(this.purgeAuditLog,this))},
initDialog:function(a,b,d){this.$topic.val(a);this.$reference.val(b);this.$keep.val(d)},purgeAuditLog:function(b){b.preventDefault();this.form.isValid()?(this.form.$el.attr("action",a.getContextUrl("/bin/cpm/core/jobcontrol.cleanup.json")),this.submitForm(function(a){})):this.alert("danger","topic and reference must be specified");return!1}})})(a.console)})(window.core);
